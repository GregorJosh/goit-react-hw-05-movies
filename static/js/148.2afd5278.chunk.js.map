{"version":3,"file":"static/js/148.2afd5278.chunk.js","mappings":"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","sources":["api/api.js","images/image-placeholder.svg","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkYjg0NzNlZDkyMjFiZjUxZjY1ZjYyMzFmZWM1ZGNhNiIsInN1YiI6IjY0YjlhODFmMzAwOWFhMDBjNWI3OTc1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-kZ0dgbGdwQSV2jydkgQdOLeOv-bFL8HeHwItjiQ9dk';\n\nconst host = 'api.themoviedb.org';\nconst base = 'https://' + host;\nconst path = '/3/';\nconst url = new URL(path, base);\n\nasync function sendRequest(path) {\n  try {\n    const response = await axios({\n      method: 'get',\n      url: url.href + path,\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer ' + API_KEY,\n      },\n    });\n\n    if (response.status === 200) {\n      return response.data;\n    }\n  } catch (error) {\n    if (error.response) {\n      console.error(\n        'Axios: Request made but the server responded with an error.'\n      );\n    } else if (error.request) {\n      console.error(\n        'Axios: Request made but no response is received from the server.'\n      );\n    } else {\n      console.error('Axios: Error occured while setting up the request.');\n      console.error(error);\n    }\n  }\n}\n\nexport async function getTrendingMovies() {\n  const movies = await sendRequest('trending/movie/day');\n\n  return movies.results;\n}\n\nexport async function getMoviesByKeyword(keyword) {\n  const movies = await sendRequest('search/movie?query=' + keyword);\n\n  return movies.results;\n}\n\nexport async function getMovieById(movieId) {\n  const movie = await sendRequest('movie/' + movieId);\n\n  if (movie.poster_path) {\n    movie.poster_path = 'http://image.tmdb.org/t/p/w185' + movie.poster_path;\n  }\n\n  return movie;\n}\n\nexport async function getMovieCredits(movieId) {\n  const credits = await sendRequest(`movie/${movieId}/credits`);\n\n  return credits.cast.map(cast => {\n    if (cast.profile_path) {\n      cast.profile_path = 'http://image.tmdb.org/t/p/w185' + cast.profile_path;\n    }\n\n    return cast;\n  });\n}\n\nexport async function getMovieReviews(movieId) {\n  const reviews = await sendRequest(`movie/${movieId}/reviews`);\n\n  return reviews.results;\n}\n","var _defs, _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImagePlaceholder(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 48,\n    id: \"image\",\n    viewBox: \"0 0 48 48\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n      .vi-primary {\\n        fill: #FF6E6E;\\n      }\\n\\n      .vi-primary, .vi-accent {\\n        stroke: #fff;\\n        stroke-linecap: round;\\n        stroke-width: 0;\\n      }\\n\\n      .vi-accent {\\n        fill: #0C0058;\\n        fill-rule: evenodd;\\n      }\\n    \"))), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"vi-primary\",\n    height: 26,\n    width: 36,\n    x: 6,\n    y: 11\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"vi-accent\",\n    d: \"M6,37L19,24l5,5L35,18l7,7V37H6ZM24.5,17A2.5,2.5,0,1,1,22,19.5,2.5,2.5,0,0,1,24.5,17Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImagePlaceholder);\nexport default __webpack_public_path__ + \"static/media/image-placeholder.877732478af7a1285d55a894421464ad.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"back-link\":\"MovieDetails_back-link__B4hAm\",\"section\":\"MovieDetails_section__CCh0q\",\"card\":\"MovieDetails_card__pqAte\",\"image\":\"MovieDetails_image__c1FeV\",\"content\":\"MovieDetails_content__xdW74\",\"filters\":\"MovieDetails_filters__Yt4RW\",\"links\":\"MovieDetails_links__EzCWB\",\"link\":\"MovieDetails_link__U+v+7\",\"active\":\"MovieDetails_active__uPNdW MovieDetails_link__U+v+7\",\"details\":\"MovieDetails_details__TGlfg\"};","import { useEffect, useState } from 'react';\nimport {\n  useLocation,\n  useParams,\n  Link,\n  NavLink,\n  Outlet,\n} from 'react-router-dom';\n\nimport { getMovieById } from 'api/api';\n\nimport imgPlaceholder from 'images/image-placeholder.svg';\n\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({\n    poster_path: '',\n    title: '',\n    release_date: '',\n    vote_average: '',\n    overview: '',\n    genres: [],\n  });\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHRef = location.state?.from ?? '/';\n\n  const { poster_path, title, release_date, vote_average, overview, genres } =\n    movie;\n  const {\n    section,\n    card,\n    content,\n    links,\n    link,\n    active,\n    filters,\n    details,\n    image,\n  } = styles;\n\n  const setClass = ({ isActive }) => (isActive ? active : link);\n\n  useEffect(() => {\n    getMovieById(movieId).then(newMovie => setMovie(newMovie));\n  }, [movieId]);\n\n  return (\n    <>\n      <Link className={styles['back-link']} to={backLinkHRef}>\n        &larr; Go Back\n      </Link>\n\n      <section className={section}>\n        <div className={card}>\n          {poster_path ? (\n            <img\n              className={image}\n              src={poster_path}\n              alt={`${title} movie poster`}\n            />\n          ) : (\n            <img className={image} src={imgPlaceholder} alt=\"Placeholder\" />\n          )}\n          <div className={content}>\n            <header>\n              <h1>{`${title} (${release_date})`}</h1>\n              <p>User score: {vote_average}</p>\n            </header>\n            <div>\n              <h3>Overview: </h3>\n              <p>{overview}</p>\n            </div>\n            <div>\n              <h3>Genres: </h3>\n              <p>{genres.map(genre => genre.name + ' ')}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className={filters}>\n          <p>Additional information: </p>\n          <ul className={links}>\n            <li>\n              <NavLink\n                className={setClass}\n                to=\"cast\"\n                state={{ from: backLinkHRef }}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                className={setClass}\n                to=\"reviews\"\n                state={{ from: backLinkHRef }}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n\n        <div className={details}>\n          <Outlet />\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","url","URL","sendRequest","path","axios","method","href","headers","accept","Authorization","response","status","data","console","error","request","getTrendingMovies","movies","results","getMoviesByKeyword","keyword","getMovieById","movieId","movie","poster_path","getMovieCredits","credits","cast","map","profile_path","getMovieReviews","reviews","useState","title","release_date","vote_average","overview","genres","setMovie","useParams","backLinkHRef","useLocation","state","from","section","styles","card","content","links","link","active","filters","details","image","setClass","isActive","useEffect","then","newMovie","className","to","src","alt","imgPlaceholder","genre","name"],"sourceRoot":""}